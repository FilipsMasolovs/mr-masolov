import Header from "./sections/header/header";
import Experience from "./sections/experience/experience";
import Skills from "./sections/skills/skills";
import Portfolio from "./sections/portfolio/portfolio";
import Contacts from "./sections/contacts/contacts";
import Footer from "./sections/footer/footer";

import React from "react";

export default class App extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            visitorName: "",
            interactionStarted: sessionStorage.getItem("mrMasolovVisitorName"),
        };
        this.handleInputChange = this.handleInputChange.bind(this);
        this.handleButtonClick = this.handleButtonClick.bind(this);
        this.handleEnterPress = this.handleEnterPress.bind(this);
    }

    handleInputChange(e) {
        this.setState({
            visitorName: e.target.value,
        });
    }

    handleEnterPress(e) {
        if (e.key === "Enter") {
            sessionStorage.setItem("mrMasolovVisitorName", this.state.visitorName);
            this.setState({
                interactionStarted: true,
            });
        }
    }

    handleButtonClick() {
        sessionStorage.setItem("mrMasolovVisitorName", this.state.visitorName);
        this.setState({
            interactionStarted: true,
        });
    }

    render() {
        let content = (
            <div className="mr-masolov-greeting">
                <div className="mr-masolov-greeting-inner">
                    <h1>Hi there, what's your name?</h1>
                    <input
                        onChange={this.handleInputChange}
                        onKeyPress={this.handleEnterPress}
                    ></input>
                    <button onClick={this.handleButtonClick}>
                        Next <i className="fa fa-arrow-right"/>
                    </button>
                </div>
                <svg className="mr-masolov-header-inner--accent" viewBox="0 0 2048 600" width="2048" height="600">
                    <path id="first-path-1" d="M0 370L48.8 373C97.7 376 195.3 382 292.8 383.8C390.3 385.7 487.7 383.3 585.2 393C682.7 402.7 780.3 424.3 877.8 423.2C975.3 422 1072.7 398 1170.2 387.8C1267.7 377.7 1365.3 381.3 1462.8 385.2C1560.3 389 1657.7 393 1755.2 401C1852.7 409 1950.3 421 1999.2 427L2048 433L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#101a86"></path>
                    <path id="second-path-1" d="M0 447L48.8 443C97.7 439 195.3 431 292.8 429.2C390.3 427.3 487.7 431.7 585.2 431.7C682.7 431.7 780.3 427.3 877.8 421.3C975.3 415.3 1072.7 407.7 1170.2 416.8C1267.7 426 1365.3 452 1462.8 463.8C1560.3 475.7 1657.7 473.3 1755.2 462.7C1852.7 452 1950.3 433 1999.2 423.5L2048 414L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0e177b"></path>
                    <path id="third-path-1" d="M0 503L48.8 494.7C97.7 486.3 195.3 469.7 292.8 467.8C390.3 466 487.7 479 585.2 484C682.7 489 780.3 486 877.8 477C975.3 468 1072.7 453 1170.2 456.3C1267.7 459.7 1365.3 481.3 1462.8 488.3C1560.3 495.3 1657.7 487.7 1755.2 483.2C1852.7 478.7 1950.3 477.3 1999.2 476.7L2048 476L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0c1470"></path>
                    <path id="forth-path-1" d="M0 518L48.8 517.7C97.7 517.3 195.3 516.7 292.8 517.8C390.3 519 487.7 522 585.2 519.5C682.7 517 780.3 509 877.8 512C975.3 515 1072.7 529 1170.2 531.5C1267.7 534 1365.3 525 1462.8 517.3C1560.3 509.7 1657.7 503.3 1755.2 501.5C1852.7 499.7 1950.3 502.3 1999.2 503.7L2048 505L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0a1165"></path>
                    <path id="fith-path-1" d="M0 566L48.8 565.7C97.7 565.3 195.3 564.7 292.8 558.5C390.3 552.3 487.7 540.7 585.2 537.7C682.7 534.7 780.3 540.3 877.8 547.7C975.3 555 1072.7 564 1170.2 560.7C1267.7 557.3 1365.3 541.7 1462.8 533.7C1560.3 525.7 1657.7 525.3 1755.2 526.3C1852.7 527.3 1950.3 529.7 1999.2 530.8L2048 532L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#080f5b"></path>
                
                    <path id="first-path-2" style={{visibility: "hidden"}} d="M0 380L48.8 378.3C97.7 376.7 195.3 373.3 292.8 374.5C390.3 375.7 487.7 381.3 585.2 386.5C682.7 391.7 780.3 396.3 877.8 399.2C975.3 402 1072.7 403 1170.2 404.2C1267.7 405.3 1365.3 406.7 1462.8 398.3C1560.3 390 1657.7 372 1755.2 369.7C1852.7 367.3 1950.3 380.7 1999.2 387.3L2048 394L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#101a86"></path>
                    <path id="second-path-2" style={{visibility: "hidden"}} d="M0 473L48.8 469.2C97.7 465.3 195.3 457.7 292.8 454.8C390.3 452 487.7 454 585.2 447.5C682.7 441 780.3 426 877.8 416.7C975.3 407.3 1072.7 403.7 1170.2 402.2C1267.7 400.7 1365.3 401.3 1462.8 401.7C1560.3 402 1657.7 402 1755.2 402C1852.7 402 1950.3 402 1999.2 402L2048 402L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0e177b"></path>
                    <path id="third-path-2" style={{visibility: "hidden"}} d="M0 479L48.8 481.2C97.7 483.3 195.3 487.7 292.8 491.7C390.3 495.7 487.7 499.3 585.2 498.3C682.7 497.3 780.3 491.7 877.8 487.2C975.3 482.7 1072.7 479.3 1170.2 471.8C1267.7 464.3 1365.3 452.7 1462.8 458.3C1560.3 464 1657.7 487 1755.2 488.3C1852.7 489.7 1950.3 469.3 1999.2 459.2L2048 449L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0c1470"></path>
                    <path id="forth-path-2" style={{visibility: "hidden"}} d="M0 501L48.8 503.7C97.7 506.3 195.3 511.7 292.8 517.8C390.3 524 487.7 531 585.2 527C682.7 523 780.3 508 877.8 502.7C975.3 497.3 1072.7 501.7 1170.2 509.3C1267.7 517 1365.3 528 1462.8 526.5C1560.3 525 1657.7 511 1755.2 508.2C1852.7 505.3 1950.3 513.7 1999.2 517.8L2048 522L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#0a1165"></path>
                    <path id="fith-path-2" style={{visibility: "hidden"}} d="M0 532L48.8 536.8C97.7 541.7 195.3 551.3 292.8 551.2C390.3 551 487.7 541 585.2 542.3C682.7 543.7 780.3 556.3 877.8 556.5C975.3 556.7 1072.7 544.3 1170.2 541.8C1267.7 539.3 1365.3 546.7 1462.8 551.2C1560.3 555.7 1657.7 557.3 1755.2 558C1852.7 558.7 1950.3 558.3 1999.2 558.2L2048 558L2048 601L1999.2 601C1950.3 601 1852.7 601 1755.2 601C1657.7 601 1560.3 601 1462.8 601C1365.3 601 1267.7 601 1170.2 601C1072.7 601 975.3 601 877.8 601C780.3 601 682.7 601 585.2 601C487.7 601 390.3 601 292.8 601C195.3 601 97.7 601 48.8 601L0 601Z" fill="#080f5b"></path>
                </svg>
            </div>
        );

        if (this.state.interactionStarted) {
            content = (
                <>
                    <Header
                        visitorName={sessionStorage.getItem("mrMasolovVisitorName")}
                    />
                    <Experience/>
                    <Portfolio/>
                    <Skills/>
                    <Contacts
                        visitorName={sessionStorage.getItem("mrMasolovVisitorName")}
                    />
                    <Footer/>
                </>
            );
        }
        return content;
    }
}
